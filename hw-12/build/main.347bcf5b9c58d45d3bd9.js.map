{"version":3,"sources":["webpack:///./templates/search-results.hbs","webpack:///./index.js","webpack:///./js/fetchCountries.js","webpack:///./templates/search-country.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","escapeExpression","name","hooks","helperMissing","call","nullContext","debounce","require","elements","input","document","getElementById","resultsPage","countryPage","clearOutput","innerHTML","PNotify","removeAll","delay","value","searchQuery","fetch","then","response","json","catch","error","console","log","result","length","population","toLocaleString","insertAdjacentHTML","buildPage","title","text","status","buildResults","items","map","item","searchResultsTemplate","join","searchCountryTemplate","addEventListener","lambda","stack1","alias1","alias2","alias4","capital","each","languages","program","noop","flag"],"mappings":"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","file":"main.347bcf5b9c58d45d3bd9.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<ul>\\n\t<li>\"\n    + container.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":5},\"end\":{\"line\":2,\"column\":13}}}) : helper)))\n    + \"</li>\\n</ul>\";\n},\"useData\":true});","import \"./css/styles.css\";\nimport \"../node_modules/pnotify/dist/PNotifyBrightTheme.css\";\nvar debounce = require(\"lodash.debounce\");\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify.js';\nimport fetchCountries from \"./js/fetchCountries\";\nimport searchCountryTemplate from \"./templates/search-country.hbs\";\nimport searchResultsTemplate from \"./templates/search-results.hbs\";\n\nconst elements = {\n  input: document.getElementById(\"country-input\"),\n  resultsPage: document.getElementById(\"results\"),\n  countryPage: document.getElementById(\"country-page\")\n};\n\nconst clearOutput = () => {\n  elements.countryPage.innerHTML = \"\";\n\telements.resultsPage.innerHTML = \"\";\n\tPNotify.removeAll();\n};\n\nconst delay = debounce(function() {\n\tif (elements.input.value === \"\") {\n\t\tclearOutput();\n\t\treturn; //выходим из ф-ции\n\t}\n  fetchCountries(elements.input.value).then(result => {\n    if (result.length === 1) {\n\t\t\tclearOutput();\n\t\t\tresult[0].population = result[0].population.toLocaleString();\n\t\t\t//console.log(result[0].languages)\n\t\t\telements.countryPage.insertAdjacentHTML(\"beforeend\", buildPage(result));\n\t\t} else if (result.length >= 10)  {\n\t\t\tPNotify.error({\n\t\t\t\ttitle: 'Too many matches found.',\n\t\t\t\ttext: 'Please enter a more specific query!'\n\t\t\t});\n\n\t\t} else if (result.status == '404') {\n\t\t\tclearOutput();\n\t\t\tPNotify.error({\n\t\t\t\ttitle: 'Country found.',\n\t\t\t\ttext: 'Please enter another country!'\n\t\t\t});\t\t\t\n\t\t} else {\n\t\t\t//console.log(result);\n      clearOutput();\n      elements.resultsPage.insertAdjacentHTML(\"beforeend\",buildResults(result)\n      );\n    }\n  });\n  const buildResults = items => {\n    const markup = items.map(item => searchResultsTemplate(item)).join(\"\");\n    return markup;\n  };\n  const buildPage = items => {\n    const markup = items.map(item => searchCountryTemplate(item)).join(\"\");\n    return markup;\n  };\n}, 500);\n\nelements.input.addEventListener(\"input\", delay);\n","\nexport default function fetchCountries(searchQuery) {\n  const apiUrl = 'https://restcountries.eu/rest/v2/name/';\n  \n  return fetch(apiUrl + searchQuery)\n  .then(response => {\n    return response.json();\n  })\n  .then(data => data)\n\n  .catch(error => {\n\n    console.log(error, 'my error')\n  });\n\t\n}  \n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"\t\t\t\t<li>\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<h1>\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":4},\"end\":{\"line\":1,\"column\":12}}}) : helper)))\n    + \"</h1>\\n<div class=\\\"flex\\\">\\n\t<div>\\n\t\t<div><b>Capital:</b> \"\n    + alias4(((helper = (helper = helpers.capital || (depth0 != null ? depth0.capital : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":23},\"end\":{\"line\":4,\"column\":34}}}) : helper)))\n    + \"</div>\\n\t\t<div><b>Population:</b> \"\n    + alias4(((helper = (helper = helpers.population || (depth0 != null ? depth0.population : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":26},\"end\":{\"line\":5,\"column\":40}}}) : helper)))\n    + \"</div>\\n\t\t<div><b>Languages:</b>\\n\t\t\t<ul>\\n\"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":4},\"end\":{\"line\":10,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"\t\t\t</ul>\\n\t\t</div>\\n\t</div>\\n\\n\t<div><img src=\\\"\"\n    + alias4(((helper = (helper = helpers.flag || (depth0 != null ? depth0.flag : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":16},\"end\":{\"line\":15,\"column\":24}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" class=\\\"flag\\\"></div>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}